<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8"/>
    <title>岗位编辑器</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="static/css/reset.css"/>
    <link rel="stylesheet" href="static/css/work.css"/>
    <link rel="stylesheet" href="./static/css/font-awesome.css">
    <script src="./static/js/jquery-2.1.3.min.js"></script>
    <script src="./static/js/public.js"></script>
    <script src="./static/js/bootstrap.min.js"></script>
    <script src="./data.js"></script>
    <style rel="stylesheet" type="text/css">

        .nav>li>a:focus {
            background-color:transparent;
        }

        a:focus {
            color : #333;
        }

        .nav-tabs>li.active>a, .nav-tabs>li.active>a:focus, .nav-tabs>li.active>a:hover {
            border : none;
            background : #eee;
        }
    </style>
    <script>
        $(document).ready(function() {
            $("#tablist li:first a")[0].focus();
            $(".jobbutton2").mouseover(function(){
                $(".jobbutton1").css('display','block');
            });
            $(".jobbutton2").mouseout(function(){
                $(".jobbutton1").css('display','none');
            });
            var flag=true;
            $(".jobbutton2").click(function(){
                if(flag){$(this).css("background-position","-21px -42px");$(".jobbox").css('display','block');$(".popBox6-1").css('height','700px');$(".contentBox6-1").css('height','656px');flag=false;}
                else{$(this).css("background-position","-21px -8px");$(".jobbox").css('display','none');$(".popBox6-1").css('height','530px');$(".contentBox6-1").css('height','486px');flag=true;}
            });

            $(".item5").click(function(){
                //var num=$(".jobflow").size();
                var jobflow=$(this).parent();
                var num=jobflow.children().eq(0).children("span").text();
                var shownum=parseInt(num)+1;
                var item1=$("<div>").append("审批流程").append($("<span>").text(shownum)).addClass("joboption item1");
                var inp=$("<input>").addClass("form-control popInput9");
                var item2=$("<div>").addClass("joboption item2").append(inp);
                var item3=$("<div>").addClass("joboption item3");
                var item4=$("<div>").addClass("joboption item4");
                var item5=$("<div>").addClass("joboption item5");
                var addjobflow=$("<div>").append(item1).append(item2).append(item3).append(item4).append(item5).addClass("jobflow");
                //$(".jobbox2").append(addjobflow);
                //添加在之后
                addjobflow.insertAfter(jobflow);
                //对addjobflow之后的节点span+1
                addjobflow.nextAll().each(function() {
                    var temp = parseInt($(this).children().eq(0).children("span").text()) + 1;
                    $(this).children().eq(0).children("span").text(temp);
                });
                //让新item5有click节点，从而方便下面的赋值
                addjobflow.children(".item5").click(function() {});
                $._data(addjobflow.children(".item5")[0], "events")["click"] = $._data($(this)[0], "events")["click"];
                addjobflow.children(".item4").click(function(){
                    var jobflow=$(this).parent();
                    if(jobflow.siblings().size() != 0){
                        $._data(jobflow.children(".item5")[0], "events")["click"] = undefined;
                        jobflow.nextAll().each(function() {
                            var temp = parseInt($(this).children().eq(0).children("span").text()) - 1;
                            $(this).children().eq(0).children("span").text(temp);
                        });
                        jobflow.remove();
                    }
                });
            });
            $(".item4").click(function(){
                var jobflow=$(this).parent();
                if(jobflow.siblings().size() != 0){
                    $._data(jobflow.children(".item5")[0], "events")["click"] = undefined;
                    jobflow.nextAll().each(function() {
                        var temp = parseInt($(this).children().eq(0).children("span").text()) - 1;
                        $(this).children().eq(0).children("span").text(temp);
                    });
                    jobflow.remove();
                }
            });

        });
    </script>
</head>
<body>
<div class="popBox6-1">
    <div class="closeBtn"><span class="fa fa-close"></span></div>
    <div class="minBtn"><span class="fa fa-minus"></span></div>
    <div class="poptext_title">岗位选择器</div>
    <div class="contentBox6-1">
        <div class="characterBox">
            <ul role="tablist" class="nav nav-tabs" id="tablist" >
                <li class="active" role="presentation"><a href="#tab1" data-toggle="tab">管理类</a></li>
                <li role="presentation"><a href="#tab2" data-toggle="tab">技术类</a></li>
            </ul>
            <div class="popInput8 inp">关键字：<input type="text" class="form-control" placeholder="设计师" style="width:68%;height:25px; padding:0 5px;right:8px;bottom:0;border-radius:0;position:absolute;"></div>
            <div class="gotosearchBtn2"></div>
            <div class="tab-content tab_bor">
                <div id="tab1" class="tab-pane active" role="tabpanel">
                    <div class="characterBox" style="border-bottom: 1px solid #dcdcdc; font-size: 16px; text-align: center;line-height: 40px;">岗位名称</div>
                    <div class="characterBox2">
                        <label class="checkbox-inline characterSbox" style=" margin-left:43px">
                            <input type="checkbox" id="inlineCheckbox1" value="option1"> 项目经理
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:0px">
                            <input type="checkbox" id="inlineCheckbox2" value="option2"> 设计主持人
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:0px">
                            <input type="checkbox" id="inlineCheckbox3" value="option3"> 建筑专业负责人
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:0px">
                            <input type="checkbox" id="inlineCheckbox1" value="option1"> 对外联络人
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:43px">
                            <input type="checkbox" id="inlineCheckbox2" value="option2"> 研发专业负责人
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:0px">
                            <input type="checkbox" id="inlineCheckbox3" value="option3"> 结构专业负责人
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:0px">
                            <input type="checkbox" id="inlineCheckbox1" value="option1"> 总图负责人
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:0px">
                            <input type="checkbox" id="inlineCheckbox2" value="option2"> BIM监理
                        </label>
                        <label class="checkbox-inline characterSbox" style=" margin-left:43px">
                            <input type="checkbox" id="inlineCheckbox3" value="option3"> 机电专业负责人
                        </label>
                        <div class="jobbutton1"></div>
                        <div class="jobbutton2"></div>
                    </div>
                    <div class="jobbox">
                        <div class="jobbox1">
                            <div class="jobtitle">审批流程</div>
                            <div class="jobtitle">岗位设置</div>
                            <div class="jobtitle">操作</div>
                        </div>
                        <div class="jobbox2">
                            <div class="jobflow">
                                <div class="joboption item1">审批流程<span>1</span></div><!--
        						 --><div class="joboption item2"><input class="form-control popInput9"></div><!--
        						 --><div class="joboption item3"></div><!--
        						 --><div class="joboption item4"></div><!--
        						 --><div class="joboption item5"></div>
                            </div>
                        </div>
                    </div>
                    <div class="characterBox" style="height:50px;position:relative;">
                        <div class="characterBtn"><a href="#">确定</a></div>
                        <div class="characterBtn2"><a href="#">清空</a></div>
                    </div>
                    <div class="characterBox" style="border:none;">
                        <div class="nojob">没有你想要的岗位？</div>
                        <input class="form-control popInput10" placeholder="输入你想要的岗位">
                        <button class="btn btn-default btn-10" type="button">发送</button>
                        <div class="nojob" style="font-size: 12px;color: #d0d0d0;margin-left:20px;">系统管理员将根据需求情况添加该岗位</div>
                    </div>
                </div>
                <div id="tab2" class="tab-pane pad20" role="tabpanel">
                    23
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</body>
</html>